<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>DBP</title>
  <script>
    
    function addTask() {

      const li = document.createElement("li");
      const button = document.createElement("button");
      const input = document.createElement("input");

      button.innerHTML = "x";
      button.setAttribute("onclick", "deleteTask(this)");
      input.setAttribute("type", "checkbox");
      input.setAttribute("onchange", "tachar(this)")

      li.appendChild(input);
      li.append(document.querySelector('#task').value);

      li.appendChild(button);
      document.querySelector('#Tasks').append(li);
      document.querySelector('#task').value = "";

      return false;
    }

    function tachar(cb) {


      if (cb.checked) {
        const del = document.createElement("del");
        cb_text = cb.nextSibling;

        del.appendChild(cb_text);
        cb.after(del);
      }
      else {
        
        del = cb.nextSibling;
        texto=del.firstChild;
        del.remove();
        cb.after(texto);
        
      }

      return false;
    }

    function completeAll() {
    
    }
    function dell() {
      ol = document.querySelector('#Tasks');
      while (ol.firstElementChild) {
        ol.firstElementChild.remove();
      }

    }
    function deleteTask(button) {
      li = button.parentElement;
      li.remove();
    }
  </script>
</head>

<body>
  <h1>Tasks</h1>

  <form id="newtask">
    <input id="task" autocomplete="off" placeholder="New Tasks" type="text">
    <input type="button" onclick="addTask()" value="envia">
  </form>


  <br>
  <button type="button" onclick="completeAll()">Complete All</button> 
  <button type="button" onclick="dell()" >Dell ALL</button>
  <!-- <button type="button" onclick="dell()">Delete All</button> -->

  <ol id="Tasks">
   
  </ol>
</body>

</html>
